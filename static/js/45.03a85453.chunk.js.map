{"version":3,"file":"static/js/45.03a85453.chunk.js","mappings":"iIAUA,IARc,SAAH,GAAmB,IAAbA,EAAK,EAALA,MACf,OACE,0BACE,wBAAKA,KAGX,C,iKCuHA,EAtHiB,WACf,IAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACjB,GAA0BC,EAAAA,EAAAA,WAAS,GAAM,eAAlCC,EAAK,KAAEC,EAAQ,KAChBC,EAAaC,KAAKC,MAAMC,aAAaC,QAAQ,eAC7CC,GAAWC,EAAAA,EAAAA,MACjB,GAAyDC,EAAAA,EAAAA,KACvD,SAACT,GAAK,OAAKA,EAAMU,IAAI,IADfC,EAAI,EAAJA,KAAMC,EAAO,EAAPA,QAASC,EAAS,EAATA,UAAWC,EAAO,EAAPA,QAASC,EAAS,EAATA,WAM3CC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAASpB,EAASqB,SACT,gBAAXD,GACFhB,GAAS,GAII,MAAXgB,GACFhB,GAAS,GAGPc,GACDI,EAAA,EAECP,GACDQ,EAAA,EAECP,IAEGF,GAAMJ,EAAS,WAEtBZ,GAAS0B,EAAAA,EAAAA,MACX,GAAG,CACDV,EACAI,EACAH,EACAC,EACAC,EACAnB,EACAY,EACAV,EAASqB,WAEX,IAeII,EAAW,YACTL,EAASpB,EAASqB,SAOxB,OANIhB,GACa,gBAAXe,IACFK,EAAWpB,EAAWqB,KAAKC,OAK7B,iCACE,iBAAKC,UAAU,iBAAgB,WAC7B,iBAAKC,SAAO,EAACD,UAAU,gBAAe,WACpC,gBAAKA,UAAU,WAAU,SACpBzB,GAASE,GAAmC,wBAAKoB,KAA1B,wCACrB,KACP,iBAAKG,UAAU,YAAW,WACxB,0BACG,IACAd,GACC,iCACE,2BACE,oBAAQc,UAAU,oBAAoBE,QApCvC,SAACC,GAChBA,EAAEC,iBAEFlC,GAASmC,EAAAA,EAAAA,OAETnC,GAAS0B,EAAAA,EAAAA,MACX,EA8B0E,mBAC/C,OACC,QAEZ,2BACE,SAAC,KAAI,CAACU,GAAG,aAAY,UACnB,gBACEC,IAAG,oCAA+BrB,EAAKsB,OACvCC,IAAI,oBAEA,OACJ,QAGR,iCACE,2BACE,oBAAQT,UAAU,mBAAmBE,QA7CvC,SAACC,GACfA,EAAEC,iBACFtB,EAAS,SACX,EA0CwE,kBAC9C,OACE,OACN,KACN,2BACE,oBACEkB,UAAU,sBACVE,QAhDD,SAACC,GAClBA,EAAEC,iBACFtB,EAAS,YACX,EA6CwC,qBAEX,OACD,OACN,OAEP,OACC,OACD,OACF,OACF,MAGb,C","sources":["component/Error.jsx","component/Homepage.jsx"],"sourcesContent":["import React from 'react';\r\n\r\nconst Error = ({ error }) => {\r\n  return (\r\n    <div>\r\n      <h2>{error}</h2>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Error;\r\n","import { React, useEffect, useState } from \"react\";\r\nimport { useNavigate, Link, useLocation } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { reset, logout } from \"../reducers/authSlice\";\r\n\r\nimport Error from \"./Error\";\r\nimport \"./homepage.css\";\r\nimport Loading from \"./Loading\";\r\n\r\nconst Homepage = () => {\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n  const [state, setstate] = useState(false);\r\n  const tourdetail = JSON.parse(localStorage.getItem(\"tourdetail\"));\r\n  const navigate = useNavigate();\r\n  const { user, isError, isSuccess, message, isLoading } = useSelector(\r\n    (state) => state.auth\r\n  );\r\n\r\n  // const user = JSON.parse(localStorage.getItem('user'));\r\n\r\n  useEffect(() => {\r\n    const detail = location.pathname;\r\n    if (detail === \"/tourdetail\") {\r\n      setstate(true);\r\n      // Tourname = tourdetail.tour.name;\r\n    }\r\n\r\n    if (detail === \"/\") {\r\n      setstate(false);\r\n    }\r\n\r\n    if (isLoading) {\r\n      <Loading />;\r\n    }\r\n    if (isError) {\r\n      <Error />;\r\n    }\r\n    if (isSuccess) {\r\n      // if (user) navigate('/tours');\r\n      if (!user) navigate(\"/login\");\r\n    }\r\n    dispatch(reset());\r\n  }, [\r\n    user,\r\n    isLoading,\r\n    isError,\r\n    isSuccess,\r\n    message,\r\n    dispatch,\r\n    navigate,\r\n    location.pathname,\r\n  ]);\r\n  const OnLogout = (e) => {\r\n    e.preventDefault();\r\n\r\n    dispatch(logout());\r\n\r\n    dispatch(reset());\r\n  };\r\n  const OnLogin = (e) => {\r\n    e.preventDefault();\r\n    navigate(\"/login\");\r\n  };\r\n  const Onregister = (e) => {\r\n    e.preventDefault();\r\n    navigate(\"/register\");\r\n  };\r\n  var Tourname = \"All Tours\";\r\n  const detail = location.pathname;\r\n  if (tourdetail) {\r\n    if (detail === \"/tourdetail\") {\r\n      Tourname = tourdetail.tour.name;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"homepage_class\">\r\n        <nav nav_bar className=\"nav_container\">\r\n          <div className=\"left_nav\">\r\n            {!(state && tourdetail) ? <h2>All Tours</h2> : <h2>{Tourname}</h2>}\r\n          </div>{\" \"}\r\n          <div className=\"right_nav\">\r\n            <ul>\r\n              {\" \"}\r\n              {user ? (\r\n                <>\r\n                  <li>\r\n                    <button className=\"nav_logout_button\" onClick={OnLogout}>\r\n                      Logout{\" \"}\r\n                    </button>{\" \"}\r\n                  </li>\r\n                  <li>\r\n                    <Link to=\"/dashboard\">\r\n                      <img\r\n                        src={`./Abhishek-stark-reactapp/${user.photo}`}\r\n                        alt=\"dashboardLink\"\r\n                      />\r\n                    </Link>{\" \"}\r\n                  </li>{\" \"}\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <li>\r\n                    <button className=\"nav_login_button\" onClick={OnLogin}>\r\n                      Login{\" \"}\r\n                    </button>{\" \"}\r\n                  </li>{\" \"}\r\n                  <li>\r\n                    <button\r\n                      className=\"nav_register_button\"\r\n                      onClick={Onregister}\r\n                    >\r\n                      Register{\" \"}\r\n                    </button>{\" \"}\r\n                  </li>{\" \"}\r\n                </>\r\n              )}{\" \"}\r\n            </ul>{\" \"}\r\n          </div>{\" \"}\r\n        </nav>{\" \"}\r\n      </div>{\" \"}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Homepage;\r\n"],"names":["error","dispatch","useDispatch","location","useLocation","useState","state","setstate","tourdetail","JSON","parse","localStorage","getItem","navigate","useNavigate","useSelector","auth","user","isError","isSuccess","message","isLoading","useEffect","detail","pathname","Loading","Error","reset","Tourname","tour","name","className","nav_bar","onClick","e","preventDefault","logout","to","src","photo","alt"],"sourceRoot":""}